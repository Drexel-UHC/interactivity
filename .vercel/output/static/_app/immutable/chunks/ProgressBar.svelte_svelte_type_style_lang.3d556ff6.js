import{w as i}from"./index.79947254.js";import{a6 as w}from"./index.ff905984.js";i(void 0);i(void 0);function p(){const{subscribe:e,set:o,update:s}=i({});return{subscribe:e,set:o,update:s,open:t=>s(()=>({open:!0,...t})),close:()=>s(t=>(t.open=!1,t))}}p();function M(){const{subscribe:e,set:o,update:s}=i([]);return{subscribe:e,set:o,update:s,trigger:t=>s(r=>(r.push(t),r)),close:()=>s(t=>(t.length>0&&t.shift(),t)),clear:()=>o([])}}M();const P={message:"Missing Toast Message",autohide:!0,timeout:5e3};function S(){const e=Math.random();return Number(e).toString(32)}function I(e){if(e.autohide===!0)return setTimeout(()=>{v.close(e.id)},e.timeout)}function U(){const{subscribe:e,set:o,update:s}=i([]);return{subscribe:e,trigger:t=>s(r=>{const a=S();t&&t.callback&&t.callback({id:a,status:"queued"});const n={...P,...t,id:a};return n.timeoutId=I(n),r.push(n),r}),close:t=>s(r=>{if(r.length>0){const a=r.findIndex(u=>u.id===t),n=r[a];n&&(n.callback&&n.callback({id:t,status:"closed"}),n.timeoutId&&clearTimeout(n.timeoutId),r.splice(a,1))}return r}),clear:()=>o([])}}const v=U(),f={};function b(e){return e==="local"?localStorage:sessionStorage}function m(e,o,s){const t=(s==null?void 0:s.serializer)??JSON,r=(s==null?void 0:s.storage)??"local";function a(n,u){b(r).setItem(n,t.stringify(u))}if(!f[e]){const n=i(o,c=>{const l=b(r).getItem(e);l&&c(t.parse(l));{const h=d=>{d.key===e&&c(d.newValue?t.parse(d.newValue):null)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)}}),{subscribe:u,set:g}=n;f[e]={set(c){a(e,c),g(c)},update(c){const l=c(w(n));a(e,l),g(l)},subscribe:u}}return f[e]}const L=m("modeOsPrefers",!1),_=m("modeUserPrefers",void 0),C=m("modeCurrent",!1);function k(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return L.set(e),e}function x(e){_.set(e)}function O(e){const o=document.documentElement.classList,s="dark";e===!0?o.remove(s):o.add(s),C.set(e)}function D(){const e=document.documentElement.classList,o=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),t=window.matchMedia("(prefers-color-scheme: dark)").matches;o||s&&t?e.add("dark"):e.remove("dark")}export{O as a,x as b,k as g,C as m,D as s};
